{"version":3,"file":"static/chunks/pages/packet-log-4487dfbb794868bc.js","mappings":"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","sources":["webpack://_N_E/?e3e9","webpack://_N_E/./src/pages/packet-log.tsx","webpack://_N_E/<anon>"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/packet-log\",\n      function () {\n        return require(\"private-next-pages/packet-log.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/packet-log\"])\n      });\n    }\n  ","import { ICommandBarItemProps, Stack, StackItem } from \"@fluentui/react\";\nimport { makeStyles, mergeClasses, shorthands } from \"@griffel/react\";\nimport { AdbCommand, decodeUtf8 } from \"@yume-chan/adb\";\nimport { autorun, makeAutoObservable, observable, runInAction } from \"mobx\";\nimport { observer } from \"mobx-react-lite\";\nimport { NextPage } from \"next\";\nimport Head from \"next/head\";\nimport { CommandBar, Grid, GridCellProps, GridColumn, GridHeaderProps, GridRowProps, HexViewer, toText } from \"../components\";\nimport { GlobalState, PacketLogItem } from \"../state\";\nimport { Icons, RouteStackProps, useStableCallback, withDisplayName } from \"../utils\";\n\nconst ADB_COMMAND_NAME = {\n    [AdbCommand.Auth]: 'AUTH',\n    [AdbCommand.Close]: 'CLSE',\n    [AdbCommand.Connect]: 'CNXN',\n    [AdbCommand.OK]: 'OKAY',\n    [AdbCommand.Open]: 'OPEN',\n    [AdbCommand.Write]: 'WRTE',\n};\n\ninterface Column extends GridColumn {\n    title: string;\n}\n\nconst LINE_HEIGHT = 32;\n\nconst state = new class {\n    get empty() {\n        return !GlobalState.logs.length;\n    }\n\n    get commandBarItems(): ICommandBarItemProps[] {\n        return [\n            {\n                key: 'clear',\n                disabled: this.empty,\n                iconProps: { iconName: Icons.Delete },\n                text: 'Clear',\n                onClick: () => GlobalState.clearLog(),\n            }\n        ];\n    }\n\n    selectedPacket: PacketLogItem | undefined = undefined;\n\n    constructor() {\n        makeAutoObservable(\n            this,\n            {\n                selectedPacket: observable.ref,\n            }\n        );\n\n        autorun(() => {\n            if (GlobalState.logs.length === 0) {\n                this.selectedPacket = undefined;\n            }\n        });\n    }\n};\n\nconst useClasses = makeStyles({\n    grow: {\n        height: 0,\n    },\n    grid: {\n        height: '100%',\n    },\n    header: {\n        textAlign: 'center',\n        lineHeight: `${LINE_HEIGHT}px`,\n    },\n    row: {\n        '&:hover': {\n            backgroundColor: '#f3f2f1',\n        },\n    },\n    selected: {\n        backgroundColor: '#edebe9',\n    },\n    code: {\n        fontFamily: 'monospace',\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n        lineHeight: LINE_HEIGHT + 'px',\n        cursor: 'default',\n        ...shorthands.overflow('hidden'),\n    },\n    hexViewer: {\n        ...shorthands.padding('12px'),\n        ...shorthands.borderTop('1px', 'solid', 'rgb(243, 242, 241)'),\n    },\n});\n\nconst columns: Column[] = [\n    {\n        title: 'Direction',\n        width: 100,\n        CellComponent: withDisplayName('Direction')(({ className, rowIndex, ...rest }: GridCellProps) => {\n            const item = GlobalState.logs[rowIndex];\n\n            const classes = useClasses();\n\n            return (\n                <div\n                    className={mergeClasses(className, classes.code)}\n                    {...rest}\n                >\n                    {item.direction}\n                </div>\n            );\n        }),\n    },\n    {\n        title: 'Command',\n        width: 100,\n        CellComponent: withDisplayName('Command')(({ className, rowIndex, ...rest }: GridCellProps) => {\n            const item = GlobalState.logs[rowIndex];\n\n            if (!item.commandString) {\n                item.commandString =\n                    ADB_COMMAND_NAME[item.command as AdbCommand] ??\n                    decodeUtf8(new Uint32Array([item.command]));\n            }\n\n            const classes = useClasses();\n\n            return (\n                <div\n                    className={mergeClasses(className, classes.code)}\n                    {...rest}\n                >\n                    {item.commandString}\n                </div>\n            );\n        }),\n    },\n    {\n        title: 'Arg0',\n        width: 100,\n        CellComponent: withDisplayName('Command')(({ className, rowIndex, ...rest }: GridCellProps) => {\n            const item = GlobalState.logs[rowIndex];\n\n            if (!item.arg0String) {\n                item.arg0String = item.arg0.toString(16).padStart(8, '0');\n            }\n\n            const classes = useClasses();\n\n            return (\n                <div\n                    className={mergeClasses(className, classes.code)}\n                    {...rest}\n                >\n                    {item.arg0String}\n                </div>\n            );\n        }),\n    },\n    {\n        title: 'Arg1',\n        width: 100,\n        CellComponent: withDisplayName('Command')(({ className, rowIndex, ...rest }: GridCellProps) => {\n            const item = GlobalState.logs[rowIndex];\n\n            if (!item.arg1String) {\n                item.arg1String = item.arg1.toString(16).padStart(8, '0');\n            }\n\n            const classes = useClasses();\n\n            return (\n                <div\n                    className={mergeClasses(className, classes.code)}\n                    {...rest}\n                >\n                    {item.arg1String}\n                </div>\n            );\n        }),\n    },\n    {\n        title: 'Payload',\n        width: 200,\n        flexGrow: 1,\n        CellComponent: withDisplayName('Command')(({ className, rowIndex, ...rest }: GridCellProps) => {\n            const item = GlobalState.logs[rowIndex];\n\n            if (!item.payloadString) {\n                item.payloadString = toText(item.payload.subarray(0, 100));\n            }\n\n            const classes = useClasses();\n\n            return (\n                <div\n                    className={mergeClasses(className, classes.code)}\n                    {...rest}\n                >\n                    {item.payloadString}\n                </div>\n            );\n        }),\n    },\n];\n\nconst Header = withDisplayName('Header')(({\n    className,\n    columnIndex,\n    ...rest\n}: GridHeaderProps) => {\n    const classes = useClasses();\n\n    return (\n        <div className={mergeClasses(className, classes.header)} {...rest}>\n            {columns[columnIndex].title}\n        </div>\n    );\n});\n\nconst Row = observer(function Row({\n    className,\n    rowIndex,\n    ...rest\n}: GridRowProps) {\n    const classes = useClasses();\n\n    const handleClick = useStableCallback(() => {\n        runInAction(() => {\n            state.selectedPacket = GlobalState.logs[rowIndex];\n        });\n    });\n\n    return (\n        <div\n            className={mergeClasses(\n                className,\n                classes.row,\n                state.selectedPacket === GlobalState.logs[rowIndex] && classes.selected\n            )}\n            onClick={handleClick}\n            {...rest}\n        />\n    );\n});\n\nconst PacketLog: NextPage = () => {\n    const classes = useClasses();\n\n    return (\n        <Stack {...RouteStackProps} tokens={{}}>\n            <Head>\n                <title>Packet Log - Android Web Toolbox</title>\n            </Head>\n\n            <CommandBar items={state.commandBarItems} />\n\n            <StackItem className={classes.grow} grow>\n                <Grid\n                    className={classes.grid}\n                    rowCount={GlobalState.logs.length}\n                    rowHeight={LINE_HEIGHT}\n                    columns={columns}\n                    HeaderComponent={Header}\n                    RowComponent={Row}\n                />\n            </StackItem>\n\n            {state.selectedPacket && state.selectedPacket.payload.length > 0 && (\n                <StackItem className={classes.grow} grow>\n                    <HexViewer className={classes.hexViewer} data={state.selectedPacket.payload} />\n                </StackItem>\n            )}\n        </Stack>\n    );\n};\n\nexport default observer(PacketLog);\n","(self[\"webpackChunk_N_E\"] = self[\"webpackChunk_N_E\"] || []).push([[267],{\n\n/***/ 4809:\n/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n\n\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/packet-log\",\n      function () {\n        return __webpack_require__(7351);\n      }\n    ]);\n    if(false) {}\n  \n\n/***/ }),\n\n/***/ 7351:\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(4471);\n/* harmony import */ var _fluentui_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(1887);\n/* harmony import */ var _fluentui_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(9899);\n/* harmony import */ var _griffel_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(9332);\n/* harmony import */ var _griffel_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(8186);\n/* harmony import */ var _griffel_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(3423);\n/* harmony import */ var _yume_chan_adb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(7417);\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(6323);\n/* harmony import */ var mobx_react_lite__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(6779);\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(3591);\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_head__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _components__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(4347);\n/* harmony import */ var _state__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(2344);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(5155);\n\n\n\n\n\n\n\n\n\n\nconst ADB_COMMAND_NAME = {\n    [_yume_chan_adb__WEBPACK_IMPORTED_MODULE_1__/* .AdbCommand.Auth */ .wj.Auth]: \"AUTH\",\n    [_yume_chan_adb__WEBPACK_IMPORTED_MODULE_1__/* .AdbCommand.Close */ .wj.Close]: \"CLSE\",\n    [_yume_chan_adb__WEBPACK_IMPORTED_MODULE_1__/* .AdbCommand.Connect */ .wj.Connect]: \"CNXN\",\n    [_yume_chan_adb__WEBPACK_IMPORTED_MODULE_1__/* .AdbCommand.OK */ .wj.OK]: \"OKAY\",\n    [_yume_chan_adb__WEBPACK_IMPORTED_MODULE_1__/* .AdbCommand.Open */ .wj.Open]: \"OPEN\",\n    [_yume_chan_adb__WEBPACK_IMPORTED_MODULE_1__/* .AdbCommand.Write */ .wj.Write]: \"WRTE\"\n};\nconst LINE_HEIGHT = 32;\nconst state = new class {\n    get empty() {\n        return !_state__WEBPACK_IMPORTED_MODULE_5__/* .GlobalState.logs.length */ .q.logs.length;\n    }\n    get commandBarItems() {\n        return [\n            {\n                key: \"clear\",\n                disabled: this.empty,\n                iconProps: {\n                    iconName: _utils__WEBPACK_IMPORTED_MODULE_6__/* .Icons.Delete */ .PJ.Delete\n                },\n                text: \"Clear\",\n                onClick: ()=>_state__WEBPACK_IMPORTED_MODULE_5__/* .GlobalState.clearLog */ .q.clearLog()\n            }\n        ];\n    }\n    constructor(){\n        this.selectedPacket = undefined;\n        (0,mobx__WEBPACK_IMPORTED_MODULE_7__/* .makeAutoObservable */ .ky)(this, {\n            selectedPacket: mobx__WEBPACK_IMPORTED_MODULE_7__/* .observable.ref */ .LO.ref\n        });\n        (0,mobx__WEBPACK_IMPORTED_MODULE_7__/* .autorun */ .EH)(()=>{\n            if (_state__WEBPACK_IMPORTED_MODULE_5__/* .GlobalState.logs.length */ .q.logs.length === 0) {\n                this.selectedPacket = undefined;\n            }\n        });\n    }\n};\nconst useClasses = (0,_griffel_react__WEBPACK_IMPORTED_MODULE_8__/* .makeStyles */ .Z)({\n    grow: {\n        height: 0\n    },\n    grid: {\n        height: \"100%\"\n    },\n    header: {\n        textAlign: \"center\",\n        lineHeight: \"\".concat(LINE_HEIGHT, \"px\")\n    },\n    row: {\n        \"&:hover\": {\n            backgroundColor: \"#f3f2f1\"\n        }\n    },\n    selected: {\n        backgroundColor: \"#edebe9\"\n    },\n    code: {\n        fontFamily: \"monospace\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        lineHeight: LINE_HEIGHT + \"px\",\n        cursor: \"default\",\n        ..._griffel_react__WEBPACK_IMPORTED_MODULE_9__/* .shorthands.overflow */ .q5.overflow(\"hidden\")\n    },\n    hexViewer: {\n        ..._griffel_react__WEBPACK_IMPORTED_MODULE_9__/* .shorthands.padding */ .q5.padding(\"12px\"),\n        ..._griffel_react__WEBPACK_IMPORTED_MODULE_9__/* .shorthands.borderTop */ .q5.borderTop(\"1px\", \"solid\", \"rgb(243, 242, 241)\")\n    }\n});\nconst columns = [\n    {\n        title: \"Direction\",\n        width: 100,\n        CellComponent: (0,_utils__WEBPACK_IMPORTED_MODULE_6__/* .withDisplayName */ .$g)(\"Direction\")((param)=>{\n            let { className , rowIndex , ...rest } = param;\n            const item = _state__WEBPACK_IMPORTED_MODULE_5__/* .GlobalState.logs */ .q.logs[rowIndex];\n            const classes = useClasses();\n            return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                className: (0,_griffel_react__WEBPACK_IMPORTED_MODULE_10__/* .mergeClasses */ .z)(className, classes.code),\n                ...rest,\n                children: item.direction\n            });\n        })\n    },\n    {\n        title: \"Command\",\n        width: 100,\n        CellComponent: (0,_utils__WEBPACK_IMPORTED_MODULE_6__/* .withDisplayName */ .$g)(\"Command\")((param)=>{\n            let { className , rowIndex , ...rest } = param;\n            const item = _state__WEBPACK_IMPORTED_MODULE_5__/* .GlobalState.logs */ .q.logs[rowIndex];\n            if (!item.commandString) {\n                var _command;\n                item.commandString = (_command = ADB_COMMAND_NAME[item.command]) !== null && _command !== void 0 ? _command : (0,_yume_chan_adb__WEBPACK_IMPORTED_MODULE_1__/* .decodeUtf8 */ .FO)(new Uint32Array([\n                    item.command\n                ]));\n            }\n            const classes = useClasses();\n            return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                className: (0,_griffel_react__WEBPACK_IMPORTED_MODULE_10__/* .mergeClasses */ .z)(className, classes.code),\n                ...rest,\n                children: item.commandString\n            });\n        })\n    },\n    {\n        title: \"Arg0\",\n        width: 100,\n        CellComponent: (0,_utils__WEBPACK_IMPORTED_MODULE_6__/* .withDisplayName */ .$g)(\"Command\")((param)=>{\n            let { className , rowIndex , ...rest } = param;\n            const item = _state__WEBPACK_IMPORTED_MODULE_5__/* .GlobalState.logs */ .q.logs[rowIndex];\n            if (!item.arg0String) {\n                item.arg0String = item.arg0.toString(16).padStart(8, \"0\");\n            }\n            const classes = useClasses();\n            return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                className: (0,_griffel_react__WEBPACK_IMPORTED_MODULE_10__/* .mergeClasses */ .z)(className, classes.code),\n                ...rest,\n                children: item.arg0String\n            });\n        })\n    },\n    {\n        title: \"Arg1\",\n        width: 100,\n        CellComponent: (0,_utils__WEBPACK_IMPORTED_MODULE_6__/* .withDisplayName */ .$g)(\"Command\")((param)=>{\n            let { className , rowIndex , ...rest } = param;\n            const item = _state__WEBPACK_IMPORTED_MODULE_5__/* .GlobalState.logs */ .q.logs[rowIndex];\n            if (!item.arg1String) {\n                item.arg1String = item.arg1.toString(16).padStart(8, \"0\");\n            }\n            const classes = useClasses();\n            return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                className: (0,_griffel_react__WEBPACK_IMPORTED_MODULE_10__/* .mergeClasses */ .z)(className, classes.code),\n                ...rest,\n                children: item.arg1String\n            });\n        })\n    },\n    {\n        title: \"Payload\",\n        width: 200,\n        flexGrow: 1,\n        CellComponent: (0,_utils__WEBPACK_IMPORTED_MODULE_6__/* .withDisplayName */ .$g)(\"Command\")((param)=>{\n            let { className , rowIndex , ...rest } = param;\n            const item = _state__WEBPACK_IMPORTED_MODULE_5__/* .GlobalState.logs */ .q.logs[rowIndex];\n            if (!item.payloadString) {\n                item.payloadString = (0,_components__WEBPACK_IMPORTED_MODULE_4__/* .toText */ .lr)(item.payload.subarray(0, 100));\n            }\n            const classes = useClasses();\n            return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                className: (0,_griffel_react__WEBPACK_IMPORTED_MODULE_10__/* .mergeClasses */ .z)(className, classes.code),\n                ...rest,\n                children: item.payloadString\n            });\n        })\n    }\n];\nconst Header = (0,_utils__WEBPACK_IMPORTED_MODULE_6__/* .withDisplayName */ .$g)(\"Header\")((param)=>{\n    let { className , columnIndex , ...rest } = param;\n    const classes = useClasses();\n    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n        className: (0,_griffel_react__WEBPACK_IMPORTED_MODULE_10__/* .mergeClasses */ .z)(className, classes.header),\n        ...rest,\n        children: columns[columnIndex].title\n    });\n});\nconst Row = (0,mobx_react_lite__WEBPACK_IMPORTED_MODULE_2__/* .observer */ .Pi)(function Row(param) {\n    let { className , rowIndex , ...rest } = param;\n    const classes = useClasses();\n    const handleClick = (0,_utils__WEBPACK_IMPORTED_MODULE_6__/* .useStableCallback */ .R9)(()=>{\n        (0,mobx__WEBPACK_IMPORTED_MODULE_7__/* .runInAction */ .z)(()=>{\n            state.selectedPacket = _state__WEBPACK_IMPORTED_MODULE_5__/* .GlobalState.logs */ .q.logs[rowIndex];\n        });\n    });\n    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n        className: (0,_griffel_react__WEBPACK_IMPORTED_MODULE_10__/* .mergeClasses */ .z)(className, classes.row, state.selectedPacket === _state__WEBPACK_IMPORTED_MODULE_5__/* .GlobalState.logs */ .q.logs[rowIndex] && classes.selected),\n        onClick: handleClick,\n        ...rest\n    });\n});\nconst PacketLog = ()=>{\n    const classes = useClasses();\n    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_fluentui_react__WEBPACK_IMPORTED_MODULE_11__/* .Stack */ .K, {\n        ..._utils__WEBPACK_IMPORTED_MODULE_6__/* .RouteStackProps */ .LE,\n        tokens: {},\n        children: [\n            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((next_head__WEBPACK_IMPORTED_MODULE_3___default()), {\n                children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"title\", {\n                    children: \"Packet Log - Android Web Toolbox\"\n                })\n            }),\n            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components__WEBPACK_IMPORTED_MODULE_4__/* .CommandBar */ .X3, {\n                items: state.commandBarItems\n            }),\n            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_fluentui_react__WEBPACK_IMPORTED_MODULE_12__/* .StackItem */ .v, {\n                className: classes.grow,\n                grow: true,\n                children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components__WEBPACK_IMPORTED_MODULE_4__/* .Grid */ .rj, {\n                    className: classes.grid,\n                    rowCount: _state__WEBPACK_IMPORTED_MODULE_5__/* .GlobalState.logs.length */ .q.logs.length,\n                    rowHeight: LINE_HEIGHT,\n                    columns: columns,\n                    HeaderComponent: Header,\n                    RowComponent: Row\n                })\n            }),\n            state.selectedPacket && state.selectedPacket.payload.length > 0 && /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_fluentui_react__WEBPACK_IMPORTED_MODULE_12__/* .StackItem */ .v, {\n                className: classes.grow,\n                grow: true,\n                children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components__WEBPACK_IMPORTED_MODULE_4__/* .HexViewer */ .Kb, {\n                    className: classes.hexViewer,\n                    data: state.selectedPacket.payload\n                })\n            })\n        ]\n    });\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,mobx_react_lite__WEBPACK_IMPORTED_MODULE_2__/* .observer */ .Pi)(PacketLog));\n\n\n/***/ })\n\n},\n/******/ function(__webpack_require__) { // webpackRuntimeModules\n/******/ var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }\n/******/ __webpack_require__.O(0, [774,888,179], function() { return __webpack_exec__(4809); });\n/******/ var __webpack_exports__ = __webpack_require__.O();\n/******/ _N_E = __webpack_exports__;\n/******/ }\n]);"],"names":["self","push","__unused_webpack_module","__unused_webpack_exports","__webpack_require__","window","__NEXT_P","__webpack_exports__","r","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","_fluentui_react__WEBPACK_IMPORTED_MODULE_11__","_fluentui_react__WEBPACK_IMPORTED_MODULE_12__","_griffel_react__WEBPACK_IMPORTED_MODULE_8__","_griffel_react__WEBPACK_IMPORTED_MODULE_9__","_griffel_react__WEBPACK_IMPORTED_MODULE_10__","_yume_chan_adb__WEBPACK_IMPORTED_MODULE_1__","mobx__WEBPACK_IMPORTED_MODULE_7__","mobx_react_lite__WEBPACK_IMPORTED_MODULE_2__","next_head__WEBPACK_IMPORTED_MODULE_3__","next_head__WEBPACK_IMPORTED_MODULE_3___default","n","_components__WEBPACK_IMPORTED_MODULE_4__","_state__WEBPACK_IMPORTED_MODULE_5__","_utils__WEBPACK_IMPORTED_MODULE_6__","ADB_COMMAND_NAME","wj","Auth","Close","Connect","OK","Open","Write","state","empty","q","logs","length","commandBarItems","key","disabled","iconProps","iconName","PJ","Delete","text","onClick","clearLog","constructor","selectedPacket","undefined","ky","LO","ref","EH","useClasses","Z","grow","height","grid","header","textAlign","lineHeight","concat","row","backgroundColor","selected","code","fontFamily","textOverflow","whiteSpace","LINE_HEIGHT","cursor","q5","overflow","hexViewer","padding","borderTop","columns","title","width","CellComponent","$g","className","rowIndex","rest","param","item","classes","jsx","z","children","direction","commandString","_command","command","FO","Uint32Array","arg0String","arg0","toString","padStart","arg1String","arg1","flexGrow","payloadString","lr","payload","subarray","Header","columnIndex","Row","Pi","handleClick","R9","PacketLog","jsxs","K","LE","tokens","X3","items","v","rj","rowCount","rowHeight","HeaderComponent","RowComponent","Kb","data","O","s","_N_E"],"sourceRoot":""}